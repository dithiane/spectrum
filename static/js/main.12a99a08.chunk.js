(this.webpackJsonpspectrum=this.webpackJsonpspectrum||[]).push([[0],{4:function(e,t){e.exports={isUndefined:function(e){return"undefined"===typeof e},getArrayForCurrentSlice:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=(t-1)*n,c=t*n;return c>e.length&&(c=e.length),e.slice(r,c)},isLengthEqual:function(e,t){return e.length===t.length},searchString:function(e,t){t=t.trim().toLowerCase();return e.filter((function(e){if(e.name.toLowerCase().includes(t)||e.city.toLowerCase().includes(t)||e.genre.toLowerCase().includes(t))return e}))},filter:function(e,t,n){if(!this.isUndefined(e)&&0!=e.length){switch(t){case"name":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"genre":e.sort((function(e,t){return e.genre.localeCompare(t.genre)}));break;case"state":e.sort((function(e,t){return e.state.localeCompare(t.state)}))}e=this.getArrayForCurrentSlice(e,n)}return e}}},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),s=n(16),i=n.n(s);var o=function(e){return Object(r.jsx)("div",{className:"header",children:Object(r.jsx)("div",{className:"header_search",children:"Welcome to the gallery of the restaurants"})})},l=n(4),u=n.n(l),d=n(5),f=n.n(d),j=n(6),h=n(3),b=n(17),O=n.n(b),m=n(18),g=Object(c.createContext)(),p={headers:{Authorization:"Api-Key q3MNxtfep8Gt"}},x=new m.a("spectrum");x.version(1).stores({shelf:"id, address1, attire, city, genre, hours, lat, long, name, state, tags, telephone, website, zip "}),x.open().catch((function(e){console.error("Open failed: "+e.stack)}));var w=function(e){var t=Object(c.useState)([]),n=Object(h.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)("name"),o=Object(h.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(!1),b=Object(h.a)(d,2),m=b[0],w=b[1],v=Object(c.useState)(1),_=Object(h.a)(v,2),N=_[0],y=_[1],k=Object(c.useState)([]),C=Object(h.a)(k,2),S=C[0],A=C[1],F=function(){var e=Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.table("shelf").toArray().then(function(){var e=Object(j.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=8;break}return e.next=3,O.a.get("https://code-challenge.spectrumtoolbox.com/api/restaurants",p).catch((function(e){console.log(e)}));case 3:n=e.sent,x.shelf.bulkPut(n.data),t=n.data,e.next=10;break;case 8:s(t),A(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){F()}),[]),Object(c.useEffect)((function(){S.length>0&&y(1),0===S.length&&y(0)}),[S]),Object(r.jsx)(g.Provider,{value:{restaurantsShelf:a,filter:l,filterOn:m,page:N,workArray:S,setWorkArray:A,toggleForwardPage:function(){var e=N+1,t=Math.ceil(a.length/10);e>t&&(e=t),y(e)},toggleBackwardPage:function(){var e=N-1;e<1&&(e=1),y(e)},toggleFilter:function(e){u(e)},setPage:y,switchFilterOn:function(){w(!m)}},children:e.children})},v=function(){var e=Object(c.useContext)(g).switchFilterOn;return Object(r.jsxs)("div",{className:"checkboxButton",children:[Object(r.jsx)("input",{onMouseDown:function(t){e()},type:"checkbox",id:"check",value:"On"}),Object(r.jsx)("label",{htmlFor:"radio",children:"Apply filter"})]})},_=function(){var e=Object(c.useState)(""),t=Object(c.useContext)(g),n=t.restaurantsShelf,a=t.setWorkArray,s=t.filter,i=t.filterOn;return Object(c.useEffect)((function(){i||(e.value="")}),[s]),Object(r.jsxs)("div",{className:"table_header_search",children:[Object(r.jsx)("input",{ref:function(t){e=t},type:"text",onKeyDown:function(t){return function(t){"Enter"===t.key&&a(u.a.searchString(n,e.value))}(t)},onChange:function(t){e.value||i||a(n)},className:"table_header_search_input",placeholder:"Search..."}),Object(r.jsx)("div",{className:"table_header_search_switch",children:Object(r.jsx)(v,{})})]})},N=function(e){var t=Object(c.useRef)(null),n=Object(c.useContext)(g),a=n.toggleFilter,s=n.setWorkArray,i=n.restaurantsShelf,o=n.filterOn,l=function(){o||s(i)},u=function(e){switch(e.target.className){case"dropdown_list-item_genre":a("genre"),l();break;case"dropdown_list-item_state":a("state"),l();break;case"dropdown_list-item_name":a("name")}};return Object(c.useEffect)((function(){t.hidden=e.hidden}),[e]),Object(r.jsx)("div",{className:"dropdown",ref:function(e){t=e},children:Object(r.jsxs)("ul",{className:"dropdown_list",children:[Object(r.jsx)("li",{className:"dropdown_list-item",onMouseDown:function(e){return u(e)},children:Object(r.jsx)("span",{className:"dropdown_list-item_name",children:"by Name"})}),Object(r.jsx)("li",{className:"dropdown_list-item",onMouseDown:function(e){return u(e)},children:Object(r.jsx)("span",{className:"dropdown_list-item_state",children:"by State"})}),Object(r.jsx)("li",{className:"dropdown_list-item",onMouseDown:function(e){return u(e)},children:Object(r.jsx)("span",{className:"dropdown_list-item_genre",children:"by Genre"})})]})})};var y=function(){var e=Object(c.useState)(!0),t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(r.jsx)("div",{onMouseDown:function(e){return function(e){u.a.isUndefined(e.target)||(e.target.className.includes("item")?a(!0):a(!1))}(e)},className:"table_header_dropdownicon",children:Object(r.jsx)(N,{hidden:n})})};var k=function(){return Object(r.jsxs)("div",{className:"table_header",children:[Object(r.jsx)(_,{}),Object(r.jsx)(y,{})]})},C=function(){return Object(r.jsx)("div",{className:"table_row_icon"})},S=a.a.forwardRef((function(e,t){return Object(r.jsxs)("div",{ref:t,className:"table_row_details",children:[Object(r.jsx)("div",{className:"table_row_name text-bold",children:e.element.name}),Object(r.jsxs)("div",{className:"table_row_city",children:[e.element.city,", ",e.element.state,", ",e.element.telephone]}),Object(r.jsx)("div",{className:"table_row_genre",children:e.element.genre})]})}));var A=function(){var e=Object(c.useContext)(g),t=e.page,n=e.filter,s=e.workArray,i=[],o=Object(c.useState)(),l=Object(h.a)(o,2),d=l[0],b=l[1],O=function(e){i.push(e)};return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(f.a.mark((function e(){var c,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],i=[],o=null,u.a.isUndefined(s)||(i=u.a.filter(s,n,t),u.a.isUndefined(i)||(i.forEach((function(e,t){o=a.a.createRef(),c.push(Object(r.jsxs)("div",{className:"table_row",children:[Object(r.jsx)(C,{},"iconKey"+t),Object(r.jsx)(S,{ref:o,element:e},"detailKey"+t)]},t)),O(o)})),b(c)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n,s]),Object(r.jsx)("div",{className:"table_main",children:d})},F=function(){return Object(r.jsxs)("div",{className:"table",children:[Object(r.jsx)(k,{}),Object(r.jsx)(A,{})]})},E=function(){return Object(r.jsx)("div",{className:"main",children:Object(r.jsx)(F,{})})},M=function(){var e=Object(c.useContext)(g),t=e.page,n=e.workArray,a=e.toggleForwardPage,s=e.toggleBackwardPage,i=Object(c.useRef)(null),o=Object(c.useRef)(null),l=function(e){o.hidden=e,i.hidden=e},u=function(e){"footer_pages_rightArrow"===e.target.className?a():"footer_pages_leftArrow"===e.target.className&&s()};return Object(c.useEffect)((function(){!function(){l(!1);var e=Math.ceil(n.length/10);switch(t){case 0:l(!0);break;case 1:i.hidden=!0,n.length<10&&(o.hidden=!0);break;case e:o.hidden=!0}}()}),[t,n]),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsxs)("div",{className:"footer_pages",children:[Object(r.jsx)("div",{ref:function(e){i=e},onMouseDown:function(e){return u(e)},className:"footer_pages_leftArrow"}),Object(r.jsx)("div",{className:"footer_pages_numberPage",children:t>0?t:""}),Object(r.jsx)("div",{ref:function(e){o=e},onMouseDown:function(e){return u(e)},className:"footer_pages_rightArrow"})]}),Object(r.jsxs)("div",{className:"footer_copyright",children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{children:"\xa9"})," 2020 MENA"]}),Object(r.jsx)("p",{children:Object(r.jsx)("a",{href:"https://www.linkedin.com/in/elenamena-denver",className:"footer_signature",children:"Elena Mena"})})]})]})};n(42);var P=function(){return Object(r.jsx)("div",{className:"grid",children:Object(r.jsxs)(w,{children:[Object(r.jsx)(o,{}),Object(r.jsx)(E,{}),Object(r.jsx)(M,{})]})})},D=(n(43),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))});i.a.render(Object(r.jsx)(P,{}),document.getElementById("root")),D()}},[[44,1,2]]]);
//# sourceMappingURL=main.12a99a08.chunk.js.map